setup:
  cmd: python -m spacy run setup
  script:
    - python -m pip install -r requirements.txt --proxy=cache.llgc.org.uk:80
  deps:
    - path: requirements.txt
      md5: c5e0defed7a620a7fe95db6341056b55
  outs: []
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
download:
  cmd: python -m spacy run download
  script:
    - python -m spacy download en_core_web_md
  deps: []
  outs: []
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
kb:
  cmd: python -m spacy run kb
  script:
    - python ./scripts/create_kb.py ./assets/uk_entities.csv en_core_web_lg ./temp/my_kb
      ./temp/my_nlp/
  deps:
    - path: assets/uk_entities.csv
      md5: d862a947632ffe310d513868ad0ddba5
  outs:
    - path: temp/my_kb
      md5: d3c9303a3d8e2f2863d1b86689d53572
    - path: temp/my_nlp
      md5: 44150c504b63a6ec838c3ad5f67ec3a9
    - path: scripts/create_kb.py
      md5: f67f5dee31a84a09bde8bfe902364490
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
corpus:
  cmd: python -m spacy run corpus
  script:
    - python ./scripts/create_corpus.py ./assets/uk_large.jsonl ./temp/my_nlp/ corpus/train.spacy
      corpus/dev.spacy
  deps:
    - path: assets/uk_large.jsonl
      md5: ba3898b9ff6fbebe8bb98bcdece504df
  outs:
    - path: corpus/train.spacy
      md5: d9f846800eaf9f7133aaeb377898bc93
    - path: corpus/dev.spacy
      md5: 1ef0259f97ce0909200a29a63427c14c
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train configs/nel.cfg --output training --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --paths.kb temp/my_kb --paths.base_nlp temp/my_nlp
      -c scripts/custom_functions.py
  deps:
    - path: temp/my_kb
      md5: d3c9303a3d8e2f2863d1b86689d53572
    - path: temp/my_nlp
      md5: e5e8698f37869d997b88789cfbcf1a3b
    - path: corpus/train.spacy
      md5: d9f846800eaf9f7133aaeb377898bc93
    - path: corpus/dev.spacy
      md5: 1ef0259f97ce0909200a29a63427c14c
  outs: []
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python ./scripts/evaluate.py ./training/model-best/ corpus/dev.spacy
  deps:
    - path: training/model-best
      md5: a438724f82b4efd054b7ef4e1a0b71c8
    - path: corpus/dev.spacy
      md5: 1ef0259f97ce0909200a29a63427c14c
  outs: []
  spacy_version: 3.1.3
  spacy_git_version: 8bda39f08
