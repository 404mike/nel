setup:
  cmd: python -m spacy run setup
  script:
    - python -m pip install -r requirements.txt
  deps:
    - path: requirements.txt
      md5: e5865d4b3b5bc44c9d22ecacfeea82d7
  outs: []
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
download:
  cmd: python -m spacy run download
  script:
    - python -m spacy download en_core_web_md
  deps: []
  outs: []
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
kb:
  cmd: python -m spacy run kb
  script:
    - python ./scripts/create_kb.py ./assets/uk_entities.csv en_core_web_lg ./temp/my_kb
      ./temp/my_nlp/
  deps:
    - path: assets/uk_entities.csv
      md5: d862a947632ffe310d513868ad0ddba5
  outs:
    - path: temp/my_kb
      md5: 8961bd6318f9f62abf2b8fd92f6b75be
    - path: temp/my_nlp
      md5: 074f9c6e2e8bdc48e5b642a2b9419fa4
    - path: scripts/create_kb.py
      md5: 9b962abf1e94e4837fd35668c23add25
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
corpus:
  cmd: python -m spacy run corpus
  script:
    - python ./scripts/create_corpus.py ./assets/uk_large.jsonl ./temp/my_nlp/ corpus/train.spacy
      corpus/dev.spacy
  deps:
    - path: assets/uk_large.jsonl
      md5: ba3898b9ff6fbebe8bb98bcdece504df
  outs:
    - path: corpus/train.spacy
      md5: d499891cb7d3d81bd57155f56280fa16
    - path: corpus/dev.spacy
      md5: 3fe0f68abd7f947625ca9b7a0497611d
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train configs/nel.cfg --output training --paths.train corpus/train.spacy
      --paths.dev corpus/dev.spacy --paths.kb temp/my_kb --paths.base_nlp temp/my_nlp
      -c scripts/custom_functions.py
  deps:
    - path: temp/my_kb
      md5: 8961bd6318f9f62abf2b8fd92f6b75be
    - path: temp/my_nlp
      md5: 074f9c6e2e8bdc48e5b642a2b9419fa4
    - path: corpus/train.spacy
      md5: d499891cb7d3d81bd57155f56280fa16
    - path: corpus/dev.spacy
      md5: 3fe0f68abd7f947625ca9b7a0497611d
  outs: []
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python ./scripts/evaluate.py ./training/model-best/ corpus/dev.spacy
  deps:
    - path: training/model-best
      md5: 8ed964c5656b1be75a4087f90c3c3617
    - path: corpus/dev.spacy
      md5: 3fe0f68abd7f947625ca9b7a0497611d
  outs: []
  spacy_version: 3.1.2
  spacy_git_version: e1f88de72
